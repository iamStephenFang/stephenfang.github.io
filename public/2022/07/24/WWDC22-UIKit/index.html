<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"stephefang.me","root":"/","images":"/images","scheme":"Mist","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"changyan","storage":true,"lazyload":true,"nav":null,"activeClass":"changyan"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js"></script>
<meta name="description" content="æœ€è¿‘å‡ å¹´çš„ WWDC æ¯å¹´éƒ½èƒ½çœ‹åˆ°å¾ˆå¤š SwiftUI çš„æ–°èƒ½åŠ›ï¼Œä½†ä¸èƒ½å¿½ç•¥çš„æ˜¯ UIKit æ¡†æ¶çš„æ›´æ–°ã€‚ ä»Šå¹´çš„ Whatâ€™s New in UIKit Session ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢  ç”Ÿäº§åŠ›æå‡ æ§åˆ¶å¢å¼º API æ”¹è¿› UIKit ä¸ SwiftUI æ··ç¼–  æˆ‘æŒ‰ç…§ä¸šåŠ¡ç†è§£å’Œé€‚é…è¿›åº¦çš„ä¼˜å…ˆçº§ï¼Œå¯¹ session å†…å®¹è¿›è¡Œäº†é‡æ–°æ’åºå’Œæ•´ç†ï¼Œå¯¹ @ferhanakkan çš„ä»“åº“è¿›è¡Œäº†ä¸€äº›æ”¹">
<meta property="og:type" content="article">
<meta property="og:title" content="WWDC22 UIKit æ–°å˜åŒ–">
<meta property="og:url" content="https://stephefang.me/2022/07/24/WWDC22-UIKit/index.html">
<meta property="og:site_name" content="StephenFang">
<meta property="og:description" content="æœ€è¿‘å‡ å¹´çš„ WWDC æ¯å¹´éƒ½èƒ½çœ‹åˆ°å¾ˆå¤š SwiftUI çš„æ–°èƒ½åŠ›ï¼Œä½†ä¸èƒ½å¿½ç•¥çš„æ˜¯ UIKit æ¡†æ¶çš„æ›´æ–°ã€‚ ä»Šå¹´çš„ Whatâ€™s New in UIKit Session ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢  ç”Ÿäº§åŠ›æå‡ æ§åˆ¶å¢å¼º API æ”¹è¿› UIKit ä¸ SwiftUI æ··ç¼–  æˆ‘æŒ‰ç…§ä¸šåŠ¡ç†è§£å’Œé€‚é…è¿›åº¦çš„ä¼˜å…ˆçº§ï¼Œå¯¹ session å†…å®¹è¿›è¡Œäº†é‡æ–°æ’åºå’Œæ•´ç†ï¼Œå¯¹ @ferhanakkan çš„ä»“åº“è¿›è¡Œäº†ä¸€äº›æ”¹">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://image.stephenfang.me/mweb/SelfSizing.gif">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UISheetPresentationController1.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UISheetPresentationController2.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UISheetPresentationController.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UIPasteControl0.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UIPasteControl1.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UIPasteControl2.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UIPasteControl3.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UIPageControl.gif">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UICalendarView.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UINavigationItemStyle.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/CenterItems.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/NSToolbar.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/iPadSide.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/TitleMenu.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/editorTextView.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UIEditMenu0.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UIEditMenu1.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/UIEditMenu2.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/Sidebar.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/renderingMode.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/preferringMonochrome.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/variableValue.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/sfsymbols.gif">
<meta property="og:image" content="http://image.stephenfang.me/mweb/Concurrency0.png">
<meta property="og:image" content="http://image.stephenfang.me/mweb/Concurrency1.png">
<meta property="article:published_time" content="2022-07-24T15:15:00.000Z">
<meta property="article:modified_time" content="2022-07-24T15:58:50.272Z">
<meta property="article:author" content="Stephen Fang">
<meta property="article:tag" content="iOS">
<meta property="article:tag" content="Swift">
<meta property="article:tag" content="WWDC">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://image.stephenfang.me/mweb/SelfSizing.gif">


<link rel="canonical" href="https://stephefang.me/2022/07/24/WWDC22-UIKit/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://stephefang.me/2022/07/24/WWDC22-UIKit/","path":"2022/07/24/WWDC22-UIKit/","title":"WWDC22 UIKit æ–°å˜åŒ–"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>WWDC22 UIKit æ–°å˜åŒ– | StephenFang</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="StephenFang" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">StephenFang</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>é¦–é¡µ</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="user fa-fw"></i>å…³äº</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>æ ‡ç­¾</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>åˆ†ç±»</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>å½’æ¡£</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#API-%E6%94%B9%E8%BF%9B"><span class="nav-number">1.</span> <span class="nav-text">API æ”¹è¿›</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UIDevice"><span class="nav-number">1.1.</span> <span class="nav-text">UIDevice</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UIScreen"><span class="nav-number">1.2.</span> <span class="nav-text">UIScreen</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E9%80%82%E5%BA%94%E5%A4%A7%E5%B0%8F-cell"><span class="nav-number">1.3.</span> <span class="nav-text">è‡ªé€‚åº”å¤§å° cell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UISheetPresentationController"><span class="nav-number">1.4.</span> <span class="nav-text">UISheetPresentationController</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UI-%E6%8E%A7%E4%BB%B6"><span class="nav-number">2.</span> <span class="nav-text">UI æ§ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UIPasteControl"><span class="nav-number">2.1.</span> <span class="nav-text">UIPasteControl</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UIPageControl"><span class="nav-number">2.2.</span> <span class="nav-text">UIPageControl</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UICalendarView"><span class="nav-number">2.3.</span> <span class="nav-text">UICalendarView</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BC%E8%88%AA%E6%A0%8F%E6%8F%90%E5%8D%87"><span class="nav-number">3.</span> <span class="nav-text">å¯¼èˆªæ æå‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UINavigationItemStyle"><span class="nav-number">3.1.</span> <span class="nav-text">UINavigationItemStyle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Center-Items"><span class="nav-number">3.2.</span> <span class="nav-text">Center Items</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E8%8F%9C%E5%8D%95"><span class="nav-number">3.3.</span> <span class="nav-text">æ–‡ä»¶èœå•</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%93%E9%AA%8C%E6%8F%90%E5%8D%87"><span class="nav-number">4.</span> <span class="nav-text">ä½“éªŒæå‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Find-and-Replace"><span class="nav-number">4.1.</span> <span class="nav-text">Find and Replace</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UIEditMenu"><span class="nav-number">4.2.</span> <span class="nav-text">UIEditMenu</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sidebar"><span class="nav-number">4.3.</span> <span class="nav-text">Sidebar</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SFSymbols"><span class="nav-number">4.4.</span> <span class="nav-text">SFSymbols</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Swift-Concurrency-and-Sendable"><span class="nav-number">4.5.</span> <span class="nav-text">Swift Concurrency and Sendable</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UIKit-and-SwiftUI"><span class="nav-number">5.</span> <span class="nav-text">UIKit and SwiftUI</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E6%9D%9F%E8%AF%AD"><span class="nav-number">6.</span> <span class="nav-text">ç»“æŸè¯­</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="nav-number">7.</span> <span class="nav-text">å‚è€ƒé“¾æ¥</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Stephen Fang"
      src="/images/favicon.png">
  <p class="site-author-name" itemprop="name">Stephen Fang</p>
  <div class="site-description" itemprop="description">StephenFang's GitHub Page</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">32</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/iamstephenfang" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;iamstephenfang" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:fangxuanmiao@gmail.com" title="E-Mail â†’ mailto:fangxuanmiao@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/iamstephenfang" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;iamstephenfang" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/fangxuanmiao" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;fangxuanmiao" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/iamstephenfang" title="Instagram â†’ https:&#x2F;&#x2F;instagram.com&#x2F;iamstephenfang" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



          </div>
        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="è¿”å›é¡¶éƒ¨">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

  <a href="https://github.com/iamstephenfang" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://stephefang.me/2022/07/24/WWDC22-UIKit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/favicon.png">
      <meta itemprop="name" content="Stephen Fang">
      <meta itemprop="description" content="StephenFang's GitHub Page">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StephenFang">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          WWDC22 UIKit æ–°å˜åŒ–
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-07-24 23:15:00 / ä¿®æ”¹æ—¶é—´ï¼š23:58:50" itemprop="dateCreated datePublished" datetime="2022-07-24T23:15:00+08:00">2022-07-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
    </span>

  
    <span id="/2022/07/24/WWDC22-UIKit/" class="post-meta-item leancloud_visitors" data-flag-title="WWDC22 UIKit æ–°å˜åŒ–" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyanï¼š</span>
    
    
      <a title="changyan" href="/2022/07/24/WWDC22-UIKit/#SOHUCS" itemprop="discussionUrl">
        <span id="changyan_count_unit" class="post-comments-count hc-comment-count" data-xid="2022/07/24/WWDC22-UIKit/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>20k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>18 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>æœ€è¿‘å‡ å¹´çš„ WWDC æ¯å¹´éƒ½èƒ½çœ‹åˆ°å¾ˆå¤š SwiftUI çš„æ–°èƒ½åŠ›ï¼Œä½†ä¸èƒ½å¿½ç•¥çš„æ˜¯ UIKit æ¡†æ¶çš„æ›´æ–°ã€‚</p>
<p>ä»Šå¹´çš„ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/10068/">Whatâ€™s New in UIKit Session</a> ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢</p>
<ul>
<li>ç”Ÿäº§åŠ›æå‡</li>
<li>æ§åˆ¶å¢å¼º</li>
<li>API æ”¹è¿›</li>
<li>UIKit ä¸ SwiftUI æ··ç¼–</li>
</ul>
<p>æˆ‘æŒ‰ç…§ä¸šåŠ¡ç†è§£å’Œé€‚é…è¿›åº¦çš„ä¼˜å…ˆçº§ï¼Œå¯¹ session å†…å®¹è¿›è¡Œäº†é‡æ–°æ’åºå’Œæ•´ç†ï¼Œå¯¹ <a target="_blank" rel="noopener" href="https://github.com/ferhanakkan">@ferhanakkan</a> çš„ä»“åº“è¿›è¡Œäº†ä¸€äº›æ”¹åŠ¨ï¼Œä»¥ä¸‹ä¸ºæˆ‘çš„æ€»ç»“ã€‚</p>
<span id="more"></span>

<p><a target="_blank" rel="noopener" href="https://github.com/iamStephenFang/WhatsNewInUIKit">https://github.com/iamStephenFang/WhatsNewInUIKit</a></p>
<h2 id="API-æ”¹è¿›"><a href="#API-æ”¹è¿›" class="headerlink" title="API æ”¹è¿›"></a>API æ”¹è¿›</h2><p>åœ¨ iOS 16 ä¸­éƒ¨åˆ† API åºŸå¼ƒï¼Œéœ€è¦å¼€å‘è€…è¿›è¡Œé€‚é…ï¼ŒåŒæ—¶æœ‰ä¸€äº›æ–°èƒ½åŠ›å¯ä»¥å®ç°ã€‚</p>
<h3 id="UIDevice"><a href="#UIDevice" class="headerlink" title="UIDevice"></a>UIDevice</h3><ul>
<li>ä¸ºäº†é˜²æ­¢ç”¨æˆ·ç•™ä¸‹æŒ‡çº¹ï¼Œ <code>UIDevice.name</code> ç°åœ¨ä¼šæŠ¥å‘Šæ¨¡å‹åç§°è€Œéç”¨æˆ·è‡ªå®šä¹‰çš„è®¾å¤‡åç§°ã€‚ ä½¿ç”¨è‡ªå®šä¹‰åç§°éœ€è¦è·å¾—æˆæƒã€‚  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// iOS 16 ä¹‹å‰ (e.g. &quot;My iPhone&quot;)</span></span><br><span class="line"><span class="comment">// iOS 16 (e.g. &quot;iPhone 13&quot;)</span></span><br><span class="line"><span class="built_in">UIDevice</span>().name</span><br></pre></td></tr></table></figure>
</li>
<li>ä¸å†æ”¯æŒ <code>UIDevice.orientation</code>ï¼Œ åº”ä½¿ç”¨ <code>UIViewController</code> ç›¸å…³APIï¼Œ å¦‚ <code>preferredInterfaceOrientation</code> æ¥è·å–åº”ç”¨ç•Œé¢çš„é¢„æœŸå‘ˆç°æ–¹å‘ã€‚  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UIDeviceOrientation(rawValue: 0) -&gt; .unknown</span></span><br><span class="line"><span class="built_in">UIDevice</span>().orientation</span><br><span class="line"></span><br><span class="line"><span class="comment">// UIInterfaceOrientation(rawValue: 1) -&gt; .portrait (iPhone)</span></span><br><span class="line"><span class="built_in">UIViewController</span>().preferredInterfaceOrientationForPresentation</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="UIScreen"><a href="#UIScreen" class="headerlink" title="UIScreen"></a>UIScreen</h3><p>iOS 16 ä¸º é…å¤‡äº† M1 èŠ¯ç‰‡çš„ iPad ä»¥åŠ Mac å¸¦æ¥äº† Stage Manager ï¼ˆå°å‰è°ƒåº¦ï¼‰åŠŸèƒ½ï¼Œä½œä¸ºåº”ç”¨å¼€å‘è€…æ— éœ€å¯¹ä»£ç è¿›è¡Œæ”¹åŠ¨å³å¯é€‚ç”¨è¯¥åŠŸèƒ½ã€‚</p>
<aside>
ğŸ’¡ åœ¨ iOS 13 å‰å¼€å‘å•çª—å£çš„ Appï¼Œç”± `UIApplication` è´Ÿè´£ App çŠ¶æ€ï¼Œ`UIApplicationDelegate`ï¼ˆ`AppDelegate`ï¼‰è´Ÿè´£ App äº‹ä»¶å’Œç”Ÿå‘½å‘¨æœŸï¼Œç„¶è€Œè¿™ç§æ¨¡å¼ä¸é€‚ç”¨äºå¼€å‘å¤šçª—å£çš„ iPad App æˆ– Mac Catalyst Appã€‚ iOS 13 å¼•å…¥äº†æ„å»ºå¤šçª—å£åº”ç”¨çš„ `UIScene`ï¼Œå¹¶å¯¹åŠŸèƒ½èŒè´£è¿›è¡Œäº†é‡æ–°æ‹†åˆ†ï¼Œå°† UI ç›¸å…³çš„çŠ¶æ€ã€äº‹ä»¶å’Œç”Ÿå‘½å‘¨æœŸäº¤ä¸ `UIWindowScene` å’Œ `UIWindowSceneDelegate`ï¼ˆ`SceneDelegate`ï¼‰è´Ÿè´£ï¼Œ`UISceneSession` è´Ÿè´£æŒä¹…åŒ–çš„ UI çŠ¶æ€ã€‚

</aside>

<p>å¦‚æœä»åœ¨ä½¿ç”¨æ—§ç‰ˆæœ¬çš„ UIScreen APIï¼Œæœ‰å¿…è¦è¿ç§»åˆ°æ–°çš„ <code>UITraitCollection</code> å’Œ <code>UIScene</code> API</p>
<p><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/uikit/uiscreen/deprecated_symbols">Apple Developer Documentation</a></p>
<ul>
<li><code>UIScreen.main</code> å·²åºŸå¼ƒï¼Œéœ€è¦ä½¿ç”¨<code>(UIApplication.shared.connectedScenes.first as? UIWindowScene)?.screen</code></li>
<li>UIScreen ç”Ÿå‘½å‘¨æœŸé€šçŸ¥åºŸå¼ƒï¼ŒåŒ…æ‹¬ <code>didConnectNotification</code>ã€<code>didDisconnectNotification</code>ï¼Œéœ€è¦ä½¿ç”¨ <code>UIScene</code>ç›¸å…³æ–¹æ³•</li>
</ul>
<h3 id="è‡ªé€‚åº”å¤§å°-cell"><a href="#è‡ªé€‚åº”å¤§å°-cell" class="headerlink" title="è‡ªé€‚åº”å¤§å° cell"></a>è‡ªé€‚åº”å¤§å° cell</h3><p><code>UICollectionView</code> å’Œ <code>UITableView</code> çš„ cell æ”¯æŒäº†è‡ªé€‚åº”è°ƒæ•´å¤§å°èƒ½åŠ›ã€‚æ§åˆ¶è‡ªé€‚åº”è°ƒæ•´å¤§å°çš„æ˜¯ <code>selfSizingInvalidation</code> å±æ€§ï¼Œé»˜è®¤å¼€å¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UICollectionView</span> </span>&#123;</span><br><span class="line">		<span class="comment">// Default is .enabled</span></span><br><span class="line">    <span class="keyword">var</span>.selfSizingInvalidation: <span class="type">SelfSizingInvalidation</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">16.0</span>, <span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">SelfSizingInvalidation</span> : <span class="title">Int</span>, @<span class="title">unchecked</span> <span class="title">Sendable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/// No updates will take place when -invalidateIntrinsicContentSize is called on a self-sizing cell or its contentView.</span></span><br><span class="line">        <span class="keyword">case</span> disabled <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/// Calling -invalidateIntrinsicContentSize on a self-sizing cell or its contentView will cause it to be resized if necessary.</span></span><br><span class="line">        <span class="keyword">case</span> enabled <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/// Calling -invalidateIntrinsicContentSize on a self-sizing cell or its contentView will cause it to be resized if necessary, and</span></span><br><span class="line">        <span class="comment">/// any Auto Layout changes within the contentView of a self-sizing cell will automatically trigger -invalidateIntrinsicContentSize.</span></span><br><span class="line">        <span class="keyword">case</span> enabledIncludingConstraints <span class="operator">=</span> <span class="number">2</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è‹¥ä½¿ç”¨äº† <code>UIListContentConfiguration</code> é…ç½®cellï¼Œæ¯å½“ cell çš„é…ç½®å‘ç”Ÿæ›´æ”¹æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ invalidationã€‚</li>
<li>è‹¥ä¸ä½¿ç”¨ <code>UIListContentConfiguration</code> é…ç½®cellï¼Œå¯ä»¥è°ƒç”¨ cell çš„ <code>invalidateIntrinsicContentSize</code> æ–¹æ³•æ‰‹åŠ¨æ‰§è¡Œ invalidationã€‚</li>
<li>è‹¥ä½¿ç”¨ Auto Layout å¸ƒå±€cellï¼Œå¯ä»¥é€šè¿‡è®¾ç½® <code>selfSizingInvalidation</code> å±æ€§ä¸º<code>enabledInclingConstraints</code> æ¥ä½¿å…¶æ¥æ”¶ Auto Layout å˜æ›´ã€‚å³å½“ cell æ£€æµ‹åˆ° contentView å†…éƒ¨çš„ä»»ä½•è‡ªåŠ¨å¸ƒå±€å˜åŒ–æ—¶ï¼Œå°†è‡ªåŠ¨è°ƒç”¨ <code>invalidateIntrinsicContentSize</code> æ–¹æ³•ã€‚</li>
</ul>
<p>é»˜è®¤æƒ…å†µä¸‹ cell è‡ªé€‚åº”è°ƒæ•´å¤§å°ä¼šä¼´éšç€åŠ¨ç”»ï¼Œå¯ä»¥åœ¨ <code>invalidateIntrinsicContentSize</code> æ–¹æ³•å¤–åŒ…ä¸€å±‚ <code>performWithoutAnimation</code> ä»è€Œå–æ¶ˆè°ƒæ•´å¤§å°æ—¶çš„åŠ¨ç”»ã€‚ </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">didTapCollapseButton</span>()</span> &#123;</span><br><span class="line">        label.text <span class="operator">=</span> <span class="type">Constants</span>.shortText</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">didTapCollapseWithoutAnimationButton</span>()</span> &#123;</span><br><span class="line">        label.text <span class="operator">=</span> <span class="type">Constants</span>.shortText</span><br><span class="line">        <span class="type">UIView</span>.performWithoutAnimation &#123;</span><br><span class="line">            <span class="keyword">self</span>.invalidateIntrinsicContentSize()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://image.stephenfang.me/mweb/SelfSizing.gif" alt="SelfSizing.gif"></p>
<p><code>UICollectionView</code> å’Œ <code>UITableView</code> å°† cell è‡ªé€‚åº”å¤§å°çš„ invalidation è¡Œä¸ºæ™ºèƒ½åˆå¹¶å¤„ç†ï¼Œå¹¶åœ¨æœ€ä½³æ—¶é—´æ‰§è¡Œæ›´æ–°ã€‚</p>
<h3 id="UISheetPresentationController"><a href="#UISheetPresentationController" class="headerlink" title="UISheetPresentationController"></a>UISheetPresentationController</h3><p>åœ¨ iOS 15 ä¸Šè‹¹æœæ¨å‡ºäº†è¡¨å•å±•ç¤ºæ§ä»¶ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„ä»£ç  present å‡º <code>.medium()</code> å’Œ <code>.large()</code> ä¸¤ç§å¤§å°çš„åº•éƒ¨è¡¨å•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// on iOS 15</span></span><br><span class="line"><span class="keyword">let</span> vc <span class="operator">=</span> <span class="type">UINavigationController</span>(rootViewController: <span class="type">DemoViewController</span>())</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> sheet <span class="operator">=</span> vc.sheetPresentationController &#123;</span><br><span class="line">		sheet.detents <span class="operator">=</span> [.medium(), .large()]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">self</span>.present(vc, animated: <span class="literal">true</span>)</span><br></pre></td></tr></table></figure>

<p>ç”¨æˆ·å¯ä»¥é€šè¿‡æ‹–æ‹½çš„æ–¹å¼å®ç°é«˜åº¦çš„åˆ‡æ¢ï¼Œä½†æ˜¯å½“æ—¶åº•æ ä¸å…·å¤‡è‡ªå®šä¹‰é«˜åº¦çš„èƒ½åŠ›ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/UISheetPresentationController1.png" alt="UISheetPresentationController1.png"></p>
<p><img src="http://image.stephenfang.me/mweb/UISheetPresentationController2.png" alt="UISheetPresentationController2.png"></p>
<p>åœ¨ iOS 16 ä¸Šè‹¹æœå¼€æ”¾äº† <code>UISheetPresentationController.Detent.Identifier</code> æä¾›äº†è‡ªå®šä¹‰çš„èƒ½åŠ›ã€‚</p>
<p>å¯ä»¥ç®€å•è¿”å›ä¸€ä¸ªå¸¸é‡å€¼æˆ–æœ€å¤§é«˜åº¦çš„ç™¾åˆ†æ¯”æ¥æ§åˆ¶è¡¨å•é«˜åº¦ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MainActor</span> <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">Detent</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">        <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">medium</span>() -&gt; <span class="title">Self</span></span></span><br><span class="line"><span class="class">        <span class="title">open</span> <span class="title">class</span> <span class="title">func</span> <span class="title">large</span>() -&gt; <span class="title">Self</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">        @<span class="title">available</span>(<span class="title">iOS</span> 16.0, *)</span></span><br><span class="line"><span class="class">        <span class="title">open</span> <span class="title">var</span> <span class="title">identifier</span>: <span class="title">UISheetPresentationController</span>.<span class="title">Detent</span>.<span class="title">Identifier</span> </span>&#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a custom detent</span></span><br><span class="line">sheet.detents <span class="operator">=</span> [</span><br><span class="line">    .large(),</span><br><span class="line">    .custom &#123; context <span class="keyword">in</span></span><br><span class="line">        <span class="number">0.3</span> <span class="operator">*</span> context.maximumDetentValue</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>æ›´æ ‡å‡†çš„åšæ³•æ˜¯é€šè¿‡è‡ªå®šä¹‰ identifier å®šåˆ¶è¡¨å•å±•ç¤ºæ§ä»¶çš„é«˜åº¦ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define a custom identifier</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UISheetPresentationController</span>.<span class="title">Detent</span>.<span class="title">Identifier</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> small <span class="operator">=</span> <span class="type">UISheetPresentationController</span>.<span class="type">Detent</span>.<span class="type">Identifier</span>(<span class="string">&quot;small&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Assign identifier to custom detent</span></span><br><span class="line">sheet.detents <span class="operator">=</span> [</span><br><span class="line">    .large(),</span><br><span class="line">    .custom (identifier: .small) &#123; context <span class="keyword">in</span></span><br><span class="line">        <span class="number">0.3</span> <span class="operator">*</span> context.maximumDetentValue</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// Disable dimming above the custom detent</span></span><br><span class="line">sheet.largestUndimmedDetentIdentifier <span class="operator">=</span> .small</span><br></pre></td></tr></table></figure>

<p>åœ¨ä½¿ç”¨çš„è¿‡ç¨‹æ€»éœ€è¦æ³¨æ„è¡¨å•å±•ç¤ºæ§ä»¶é«˜åº¦ä¸åŒ…å« <code>SafeAreaInsets</code>ï¼Œè®¡ç®—å¸ƒå±€æ—¶éœ€è¦æ³¨æ„ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/UISheetPresentationController.png" alt="UISheetPresentationController"></p>
<h2 id="UI-æ§ä»¶"><a href="#UI-æ§ä»¶" class="headerlink" title="UI æ§ä»¶"></a>UI æ§ä»¶</h2><h3 id="UIPasteControl"><a href="#UIPasteControl" class="headerlink" title="UIPasteControl"></a>UIPasteControl</h3><p>åœ¨ iOS 16 å‰åœ¨ app å†…æ‰§è¡Œå¤åˆ¶ç²˜è´´æ“ä½œä¼šåœ¨é¡¶éƒ¨æ˜¾ç¤ºbannerï¼Œåœ¨ iOS 16ä¸Š banner è¢« alert æ‰€å–ä»£ã€‚ä»ç„¶ç”±ç³»ç»Ÿè‡ªåŠ¨æç¤ºï¼Œæ ¹æ®ç”¨æˆ·çš„é€‰é¡¹å…è®¸å‰ªè´´æ¿å†…å®¹è®¿é—®ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/UIPasteControl0.png" alt="UIPasteControl0"></p>
<p><img src="http://image.stephenfang.me/mweb/UIPasteControl1.png" alt="UIPasteControl1"></p>
<p>å¼€å‘è€…å¯ä»¥ç”¨æ–°åŠ å…¥çš„ <code>UIPasteControl</code> ä½œä¸ºç²˜è´´æ§ä»¶æ›¿æ¢è¿™ä¸ª alertï¼Œå¯ä»¥åœ¨<a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/uikit/uipastecontrol">è¿™é‡Œ</a>æ‰¾åˆ°ç›¸å…³æ–‡æ¡£ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fileprivate</span> <span class="keyword">lazy</span> <span class="keyword">var</span> pasteControl: <span class="type">UIPasteControl</span> <span class="operator">=</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> pasteControlConfig <span class="operator">=</span> <span class="type">UIPasteControl</span>.<span class="type">Configuration</span>()</span><br><span class="line">        pasteControlConfig.baseBackgroundColor <span class="operator">=</span> .systemBlue</span><br><span class="line">        pasteControlConfig.baseForegroundColor <span class="operator">=</span> .white</span><br><span class="line">        pasteControlConfig.cornerRadius <span class="operator">=</span> <span class="number">5.0</span></span><br><span class="line">        pasteControlConfig.displayMode <span class="operator">=</span> .iconAndLabel</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> pasteControl <span class="operator">=</span> <span class="type">UIPasteControl</span>(configuration: pasteControlConfig)</span><br><span class="line">        pasteControl.target <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line">        <span class="keyword">return</span> pasteControl</span><br><span class="line">    &#125; ()</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: UIPasteConfigurationSupporting</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">canPaste</span>(<span class="keyword">_</span> <span class="params">itemProviders</span>: [<span class="type">NSItemProvider</span>])</span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">paste</span>(<span class="params">itemProviders</span>: [<span class="type">NSItemProvider</span>])</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> itemProvider <span class="operator">=</span> itemProviders.first &#123;</span><br><span class="line">            <span class="keyword">if</span> itemProvider.canLoadObject(ofClass: <span class="type">NSString</span>.<span class="keyword">self</span>) &#123;</span><br><span class="line">                itemProvider.loadObject(ofClass: <span class="type">NSString</span>.<span class="keyword">self</span>) &#123; (text, error) <span class="keyword">in</span></span><br><span class="line">                    <span class="keyword">if</span> text <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">                        <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">                            <span class="keyword">self</span>.label.text <span class="operator">=</span> text <span class="keyword">as?</span> <span class="type">String</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://image.stephenfang.me/mweb/UIPasteControl2.png" alt="UIPasteControl2"></p>
<p><img src="http://image.stephenfang.me/mweb/UIPasteControl3.png" alt="UIPasteControl3"></p>
<p>è¿™ä¸ªé€‚é…è™½ç„¶è¾¾æˆäº†å¿…é¡»æœ‰ç”¨æˆ·äº¤äº’æ‰èƒ½è¯»å–å‰ªè´´æ¿çš„ç›®çš„ï¼Œä½†ä¹Ÿç­‰æ¥äº†ä¸€äº›å¼€å‘è€…çš„åæ§½ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://twitter.com/cyanapps/status/1535187013611438081">https://twitter.com/cyanapps/status/1535187013611438081</a></p>
<h3 id="UIPageControl"><a href="#UIPageControl" class="headerlink" title="UIPageControl"></a>UIPageControl</h3><p><code>UIPageControl</code> åœ¨ iOS 16 ä¸Šå¾—åˆ°äº†å¢å¼ºï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç‚¹</p>
<ol>
<li>å¯ä»¥é’ˆå¯¹ä¸åŒçš„é€‰ä¸­çŠ¶æ€å±•ç¤ºä¸åŒçš„å›¾åƒ <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// The preferred image for the current page indicator. Symbol images are recommended. Default is nil.</span></span><br><span class="line">    <span class="comment">/// If this value is nil, then UIPageControl will use \c preferredPageIndicatorImage (or its per-page variant) as</span></span><br><span class="line">    <span class="comment">/// the indicator image.</span></span><br><span class="line">    <span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">16.0</span>, <span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">var</span> preferredCurrentPageIndicatorImage: <span class="type">UIImage</span>?</span><br></pre></td></tr></table></figure>
</li>
<li>å¯ä»¥è®¾ç½®å¸ƒå±€æ–¹å‘ä¸ºæ°´å¹³æˆ–å‚ç›´ <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// The layout direction of the page indicators. The default value is \c UIPageControlDirectionNatural.</span></span><br><span class="line">    <span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">16.0</span>, <span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">var</span> direction: <span class="type">UIPageControl</span>.<span class="type">Direction</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">16.0</span>, <span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> : <span class="title">Int</span>, @<span class="title">unchecked</span> <span class="title">Sendable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment">/// Page indicators are laid out in the natural direction of the system locale.</span></span><br><span class="line">        <span class="comment">/// By default, this is equivalent to @c UIPageControlDirectionLeftToRight on LTR locales, and</span></span><br><span class="line">        <span class="comment">/// @c UIPageControlDirectionRightToLeft on RTL locales.</span></span><br><span class="line">        <span class="keyword">case</span> natural <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/// Page indicators are laid out from left to right.</span></span><br><span class="line">        <span class="keyword">case</span> leftToRight <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/// Page indicators are laid out from right to left.</span></span><br><span class="line">        <span class="keyword">case</span> rightToLeft <span class="operator">=</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/// Page indicators are laid out from top to bottom.</span></span><br><span class="line">        <span class="keyword">case</span> topToBottom <span class="operator">=</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/// Page indicators are laid out from bottom to top.</span></span><br><span class="line">        <span class="keyword">case</span> bottomToTop <span class="operator">=</span> <span class="number">4</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>GitHubä¸Šçš„ <a target="_blank" rel="noopener" href="https://github.com/ferhanakkan">@ferhanakkan</a> æä¾›äº†ä»¥ä¸‹ Demoã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">var</span> pageControl: <span class="type">UIPageControl</span> <span class="operator">=</span> &#123;</span><br><span class="line">        <span class="variable">$0</span>.backgroundColor <span class="operator">=</span> .orange</span><br><span class="line">        <span class="variable">$0</span>.layer.cornerRadius <span class="operator">=</span> <span class="number">8</span></span><br><span class="line">        <span class="variable">$0</span>.layer.masksToBounds <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">        <span class="variable">$0</span>.currentPage <span class="operator">=</span> .zero</span><br><span class="line">        <span class="variable">$0</span>.numberOfPages <span class="operator">=</span> collectionViewData.count</span><br><span class="line">        <span class="variable">$0</span>.direction <span class="operator">=</span> .leftToRight</span><br><span class="line">        <span class="variable">$0</span>.preferredIndicatorImage <span class="operator">=</span> <span class="type">UIImage</span>(systemName: <span class="string">&quot;star&quot;</span>)</span><br><span class="line">        <span class="variable">$0</span>.preferredCurrentPageIndicatorImage <span class="operator">=</span> <span class="type">UIImage</span>(systemName: <span class="string">&quot;star.fill&quot;</span>)</span><br><span class="line">        <span class="variable">$0</span>.translatesAutoresizingMaskIntoConstraints <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$0</span></span><br><span class="line">    &#125;(<span class="type">UIPageControl</span>())</span><br></pre></td></tr></table></figure>

<p><img src="http://image.stephenfang.me/mweb/UIPageControl.gif" alt="UIPageControl.gif"></p>
<h3 id="UICalendarView"><a href="#UICalendarView" class="headerlink" title="UICalendarView"></a>UICalendarView</h3><p>ä¹‹å‰ä¸€ç›´å¸Œæœ› iOS èƒ½å¤Ÿé›†æˆä¸€ä¸ªç±»ä¼¼ <a target="_blank" rel="noopener" href="https://github.com/WenchaoD/FSCalendar">FSCalendar</a> çš„æ—¥å†ç»„ä»¶ï¼Œåœ¨ iOS 16ä¸Šç»ˆäºç®—æ˜¯ç­‰åˆ°äº†ã€‚<code>UICalendarView</code> æ˜¯ <code>UIDatePicker</code> çš„å†…è”æ—¥å†æ ·å¼ï¼Œå®ƒå’Œ <code>UIDatePicker</code> æœ€ä¸»è¦çš„ä¸€ä¸ªåŒºåˆ«åœ¨äº <code>UICalendarView</code> å°†æ—¥æœŸè¡¨ç¤ºä¸º <code>NSDateComponents</code> è€Œä¸æ˜¯ <code>NSDate</code>ã€‚</p>
<aside>
ğŸ’¡ `NSDateComponents` èƒ½å¤Ÿæ›´å¥½ã€æ›´ç²¾ç¡®åœ°è¡¨ç¤ºæ•°æ®æ¨¡å‹ï¼Œ `NSDate` æ˜¯æ—¶é—´ç‚¹çš„è¡¨ç¤ºã€‚

</aside>

<p><code>UICalendarView</code>ç°åœ¨ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„å…¨åŠŸèƒ½ç»„ä»¶å½¢å¼æä¾›ï¼Œå®ƒå…·å¤‡äº†ä»¥ä¸‹å‡ ç§ç‰¹æ€§ã€‚</p>
<ul>
<li>æ”¯æŒæ—¥æœŸå•é€‰æˆ–å¤šé€‰</li>
<li>æ”¯æŒåœ¨èŒƒå›´å†…æ¡†é€‰æ—¥æœŸå’Œç¦ç”¨ä¸ªåˆ«æ—¥æœŸ</li>
<li>æ”¯æŒå¯¹æ ‡æ³¨æ—¥æœŸè¿›è¡Œè£…é¥°</li>
<li>æ˜ç¡®ç”±å“ªä¸ª <code>NSCalendar</code> è¡¨ç¤º</li>
</ul>
<p>æ¥ä¸‹æ¥å°è¯•æ„å»ºä¸€ä¸ªå¤šé€‰æ—¥æœŸæ—¥å†ã€‚</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª <code>UICalendarView</code> å¯¹è±¡ï¼Œä¸ºå…¶è®¾ç½® <code>delegate</code> å¹¶æŒ‡å®šå…¶ <code>calendar</code> å±æ€§ã€‚å¦‚æœéœ€è¦é‡‡ç”¨å†œå†ï¼Œæ›´æ”¹ <code>NSCalendar</code> çš„åˆå§‹åŒ–å³å¯ï¼ˆ <code>Calendar(identifier: .chinese)</code>ï¼‰</li>
<li>é…ç½®å¤šæ—¥æœŸé€‰æ‹©éœ€è¦åˆ›å»ºä¸€ä¸ª <code>UICalendarSelectionMultiDate</code> å¯¹è±¡ï¼Œå¹¶ä¸ºå…¶ <code>selectedDates</code> å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œå†å°†æ­¤å¯¹è±¡ä½œä¸º <code>selectionBehavior</code> å±æ€§ä¼ ç»™æˆ‘ä»¬åˆ›å»ºçš„ <code>UICalendarView</code> å¯¹è±¡</li>
<li>é€šè¿‡ <code>UICalendarViewDelegate</code> ä¸­çš„ <code>multidateselect: canSelectDate:</code> æ–¹æ³•å¯ä»¥æ§åˆ¶å“ªäº›æ—¥æœŸå¯ä»¥è¢«é€‰æ‹©ï¼Œå¦‚é˜²æ­¢æ—¥å†ä¸­é€‰ä¸­å•ä¸ªæ—¥æœŸã€‚æ— æ³•é€‰æ‹©çš„æ—¥æœŸä¼šè¢«ç½®ç°ã€‚</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Configuring a calendar view with multi-date selection</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> calendarView <span class="operator">=</span> <span class="type">UICalendarView</span>()</span><br><span class="line">calendarView.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line">calendarView.calendar <span class="operator">=</span> <span class="type">Calendar</span>(identifier: .gregorian)</span><br><span class="line">view.addSubview(calendarView)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> multiDateSelection <span class="operator">=</span> <span class="type">UICalendarSelectionMultiDate</span>(delegate: <span class="keyword">self</span>)</span><br><span class="line">multiDateSelection.selectedDates <span class="operator">=</span> myDatabase.selectedDates()</span><br><span class="line">calendarView.selectionBehavior <span class="operator">=</span> multiDateSelection</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">multiDateSelection</span>(</span></span><br><span class="line"><span class="function">    <span class="keyword">_</span> <span class="params">selection</span>: <span class="type">UICalendarSelectionMultiDate</span>,</span></span><br><span class="line"><span class="function">    <span class="params">canSelectDate</span> <span class="params">dateComponents</span>: <span class="type">DateComponents</span></span></span><br><span class="line"><span class="function">)</span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> myDatabase.hasAvailabilities(for: dateComponents)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>UICalendarViewDelegate</code> æä¾›äº† <code>calendarView: decorationForDateComponents:</code> æ–¹æ³•å¯¹æ—¥å†ä¸­çš„æ—¥æœŸè¿›è¡Œè£…é¥°ã€‚</p>
<ul>
<li>å¦‚æœä¸éœ€è¦è£…é¥°ç›´æ¥è¿”å› nil å³å¯</li>
<li>å¯ä»¥é€šè¿‡ç®€å•çš„å›¾åƒæ„é€ è£…é¥°æ—¥æœŸ</li>
<li>å¯ä»¥é€šè¿‡è‡ªå®šä¹‰è§†å›¾è£…é¥°æ—¥æœŸ</li>
<li>è‡ªå®šä¹‰è£…é¥°è§†å›¾ä¸å…è®¸äº¤äº’</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Configuring Decorations</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calendarView</span>(</span></span><br><span class="line"><span class="function">    <span class="keyword">_</span> <span class="params">calendarView</span>: <span class="type">UICalendarView</span>, </span></span><br><span class="line"><span class="function">    <span class="params">decorationFor</span> <span class="params">dateComponents</span>: <span class="type">DateComponents</span></span></span><br><span class="line"><span class="function">)</span> -&gt; <span class="type">UICalendarView</span>.<span class="type">Decoration</span>? &#123;</span><br><span class="line">    <span class="keyword">switch</span> myDatabase.eventType(on: dateComponents) &#123;</span><br><span class="line">    <span class="keyword">case</span> .none:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    <span class="keyword">case</span> .busy:</span><br><span class="line">        <span class="keyword">return</span> .default()</span><br><span class="line">    <span class="keyword">case</span> .travel:</span><br><span class="line">        <span class="keyword">return</span> .image(airplaneImage, color: .systemOrange)</span><br><span class="line">    <span class="keyword">case</span> .party:</span><br><span class="line">        <span class="keyword">return</span> .customView &#123;</span><br><span class="line">            <span class="type">MyPartyEmojiLabel</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://image.stephenfang.me/mweb/UICalendarView.png" alt="UICalendarView"></p>
<h2 id="å¯¼èˆªæ æå‡"><a href="#å¯¼èˆªæ æå‡" class="headerlink" title="å¯¼èˆªæ æå‡"></a>å¯¼èˆªæ æå‡</h2><h3 id="UINavigationItemStyle"><a href="#UINavigationItemStyle" class="headerlink" title="UINavigationItemStyle"></a><strong>UINavigationItemStyle</strong></h3><p>æ–°å¼•å…¥äº† <code>Browser</code>ã€<code>Editor</code> ä¸¤ç§å¯¼èˆªæ ·å¼ï¼Œç›®å‰æ”¯æŒçš„<code>UINavigationItemStyle</code> æœ‰ä»¥ä¸‹å‡ ç§</p>
<p><img src="http://image.stephenfang.me/mweb/UINavigationItemStyle.png" alt="UINavigationItemStyle"></p>
<ul>
<li><code>Navigator</code>ï¼šéµå¾ªä¼ ç»Ÿçš„ push / pop æ¨¡å‹ï¼Œå¦‚è®¾ç½®app</li>
<li><code>Browser</code>ï¼šä½¿ç”¨å†å²è®°å½•æˆ–æ–‡ä»¶å¤¹ç»“æ„å¯¼èˆªï¼Œå¦‚ Safariã€ç³»ç»Ÿæ–‡ä»¶app</li>
<li><code>Editor</code>ï¼šå¯¼èˆªæ ä¸­é—´ä¸ºæ–‡ä»¶ç›¸å…³æ“ä½œï¼Œæ ‡é¢˜åˆ™åœ¨æœ€å·¦è¾¹</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Adopt the editor navigation style for the navigation item.</span></span><br><span class="line">navigationItem.style <span class="operator">=</span> .editor</span><br></pre></td></tr></table></figure>

<h3 id="Center-Items"><a href="#Center-Items" class="headerlink" title="Center Items"></a>Center Items</h3><p>center items æ˜¯å±•ç¤ºåœ¨å¯¼èˆªæ ä¸­é—´çš„çš„æ§ä»¶ç»„ï¼Œèƒ½å¤Ÿæä¾›å¯¹åº”ç”¨ç¨‹åºæœ€é‡è¦åŠŸèƒ½çš„å¿«é€Ÿè®¿é—®ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/CenterItems.png" alt="CenterItems"></p>
<p>ç”¨æˆ·å¯ä»¥ç§»åŠ¨ã€ç§»é™¤æˆ–æ·»åŠ æ¥å®šåˆ¶å¯¼èˆªæ çš„ center itemsã€‚é»˜è®¤ä¸å±•ç¤ºçš„ center items å‡ºç°åœ¨è‡ªå®šä¹‰å¼¹å‡ºçª—å£ä¸­ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»æ›´å¤šæŒ‰é’®ä¸­çš„ Customize Toolbar èœå•è®¿é—®ã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸€èƒ½åŠ›ï¼Œåº”ç”¨ç¨‹åºéœ€è¦ä¸ºå¯¼èˆªé¡¹çš„<code>customizationIdentifier</code>å±æ€§æä¾›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒUIKit èƒ½å¤Ÿæ ¹æ®è¿™ä¸ª identifier è‡ªåŠ¨ä¿å­˜å’Œæ¢å¤ç”¨æˆ·è‡ªå®šä¹‰è®¾å®šã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Setting a non-nil customizationIdentifier enables customization and UIKit will automatically save &amp; restore customizations based on this identifier. The identifier must be unique within the scope of the application.</span></span><br><span class="line">    <span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">16.0</span>, <span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">var</span> customizationIdentifier: <span class="type">String</span>?</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set a customizationIdentifier and add center item groups.</span></span><br><span class="line">navigationItem.customizationIdentifier <span class="operator">=</span> <span class="string">&quot;editorViewCustomization&quot;</span></span><br></pre></td></tr></table></figure>

<p>é…ç½® center Items éœ€è¦ä¸º <code>navigationItem.centerItemGroups</code> å±æ€§èµ‹å€¼</p>
<ul>
<li>è‹¥éœ€åˆ›å»ºç”¨æˆ·æ— æ³•ç§»åŠ¨æˆ–ç§»é™¤çš„ itemï¼Œéœ€è¦è°ƒç”¨ <code>UIBarButtonItem</code> çš„å®ä¾‹æ–¹æ³• <code>createFixedGroup()</code></li>
<li>è‹¥éœ€åˆ›å»ºå¯è°ƒæ•´çš„ <code>BarButtonItemGroup</code><ul>
<li>æ‹Ÿå®š <code>customizationIdentifier</code> ä½œä¸ºå”¯ä¸€æ ‡è¯†</li>
<li><code>UIBarButtonItems</code> ä¸€æ¬¡åªèƒ½åœ¨ä¸€ä¸ª <code>UIBarButtonItemGroup</code> ä¸­</li>
<li>å°†ä¸€ä¸ª bar button itemæ·»åŠ åˆ°ä¸€ä¸ª group ä¸­ä¼šå°†å…¶ä»ä¹‹å‰çš„ä»»ä½• group ä¸­ç§»é™¤</li>
<li><code>isInDefaultCustomization</code>å±æ€§è®¾ç½®é»˜è®¤æ˜¯å¦å‡ºç°åœ¨å¯¼èˆªæ ä¸­</li>
<li><code>BarButtonItemGroup</code> é€šå¸¸åŒ…å«å¤šä¸ªå¯ä»¥æä¾›å®šåˆ¶èƒ½åŠ›çš„ <code>UIAction</code></li>
</ul>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/// Create a fixed group containing this bar button item. UIBarButtonItems may only be in a single UIBarButtonItemGroup at a time, adding a bar button item to a group removes it from any previous group.</span></span><br><span class="line">    <span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">16.0</span>, <span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">creatingFixedGroup</span>()</span> -&gt; <span class="type">UIBarButtonItemGroup</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// Create an optional BarButtonItemGroup containing only this bar button item. UIBarButtonItems may only be in a single UIBarButtonItemGroup at a time, adding a bar button item to a group removes it from any previous group.</span></span><br><span class="line">    <span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">16.0</span>, <span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">@available</span>(<span class="keyword">tvOS</span>, unavailable)</span><br><span class="line">    <span class="keyword">@available</span>(<span class="keyword">watchOS</span>, unavailable)</span><br><span class="line">    <span class="meta">@MainActor</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">creatingOptionalGroup</span>(<span class="params">customizationIdentifier</span>: <span class="type">String</span>, <span class="params">isInDefaultCustomization</span>: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">true</span>)</span> -&gt; <span class="type">UIBarButtonItemGroup</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">configureCenterItemGroups</span>()</span> &#123;</span><br><span class="line"></span><br><span class="line">					navigationItem.centerItemGroups <span class="operator">=</span> [</span><br><span class="line">            <span class="type">UIBarButtonItem</span>(primaryAction: <span class="type">UIAction</span>(title: <span class="string">&quot;Sync Scrolling&quot;</span>, image: syncScrollingImage) &#123; [<span class="keyword">unowned</span> <span class="keyword">self</span>] action <span class="keyword">in</span></span><br><span class="line">                syncScrolling.toggle()</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">let</span> barButtonItem <span class="operator">=</span> action.sender <span class="keyword">as?</span> <span class="type">UIBarButtonItem</span> &#123;</span><br><span class="line">                    barButtonItem.image <span class="operator">=</span> syncScrollingImage</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).creatingFixedGroup(),</span><br><span class="line">            </span><br><span class="line">           <span class="type">UIBarButtonItem</span>(primaryAction: <span class="type">UIAction</span>(title: <span class="string">&quot;Add Link&quot;</span>, image: <span class="type">UIImage</span>(systemName: <span class="string">&quot;link&quot;</span>)) &#123; [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">                insertTag(.link)</span><br><span class="line">            &#125;).creatingOptionalGroup(customizationIdentifier: <span class="string">&quot;addLink&quot;</span>)</span><br><span class="line">					],</span><br><span class="line"></span><br><span class="line">					<span class="type">UIBarButtonItem</span>(title: <span class="string">&quot;Insert Image&quot;</span>, image: <span class="type">UIImage</span>(systemName: <span class="string">&quot;photo&quot;</span>), menu: <span class="type">UIMenu</span>(title: <span class="string">&quot;Insert Image&quot;</span>, children: [</span><br><span class="line">                <span class="type">UIAction</span>(title: <span class="string">&quot;From Photo Library&quot;</span>, image: <span class="type">UIImage</span>(systemName: <span class="string">&quot;photo.on.rectangle&quot;</span>)) &#123; [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">                    <span class="keyword">let</span> picker <span class="operator">=</span> <span class="type">UIImagePickerController</span>()</span><br><span class="line">                    picker.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line">                    present(picker, animated: <span class="literal">true</span>)</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="type">UIAction</span>(title: <span class="string">&quot;From File&quot;</span>, image: <span class="type">UIImage</span>(systemName: <span class="string">&quot;folder&quot;</span>)) &#123; [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">                    <span class="keyword">let</span> picker <span class="operator">=</span> <span class="type">UIDocumentPickerViewController</span>(forOpeningContentTypes: [.image], asCopy: <span class="literal">true</span>)</span><br><span class="line">                    picker.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line">                    isPickingImageFromFile <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">                    present(picker, animated: <span class="literal">true</span>)</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="type">UIAction</span>(title: <span class="string">&quot;Blank Image Tag&quot;</span>, image: <span class="type">UIImage</span>(systemName: <span class="string">&quot;tag&quot;</span>)) &#123; [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">                    insertTag(.image)</span><br><span class="line">                &#125;</span><br><span class="line">            ])).creatingOptionalGroup(customizationIdentifier: <span class="string">&quot;addImage&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>center items é’ˆå¯¹ Mac Catalyst çš„ NSToolbar å’Œ iPad å¹¶æ’æ¨¡å¼èƒ½å¤Ÿå®ç°è‡ªåŠ¨é€‚é…ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/NSToolbar.png" alt="NSToolbar"></p>
<p><img src="http://image.stephenfang.me/mweb/iPadSide.png" alt="iPadSide"></p>
<h3 id="æ–‡ä»¶èœå•"><a href="#æ–‡ä»¶èœå•" class="headerlink" title="æ–‡ä»¶èœå•"></a>æ–‡ä»¶èœå•</h3><p>å½“ç”¨æˆ·ç‚¹å‡»å¯¼èˆªé¡¹ç›®çš„æ ‡é¢˜æ—¶ä¼šå‡ºç°æ–‡ä»¶èœå•ï¼Œä»ä¸Šåˆ°ä¸‹å¯ä»¥å°†å…¶æ‹†åˆ†æˆä¸‰éƒ¨åˆ†</p>
<ol>
<li>Document headerï¼šåŒ…å«æ–‡ä»¶åã€æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶å¤§å°ã€åˆ†äº«èœå•ç­‰</li>
<li>Suggested  title menuï¼šä¸å½“å‰æ–‡æ¡£ç›¸å…³çš„å»ºè®®æ“ä½œ</li>
<li>Custom title menuï¼šè‡ªå®šä¹‰æ“ä½œ</li>
</ol>
<p><img src="http://image.stephenfang.me/mweb/TitleMenu.png" alt="TitleMenu"></p>
<p><strong>Document header</strong></p>
<p>Document header æ˜¾ç¤ºå½“å‰æ–‡æ¡£ç›¸å…³çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€æ–‡ä»¶ç±»å‹å’Œå¤§å°ï¼Œè¿˜æä¾›äº†åˆ†äº«æˆ–æ‹–æ”¾æ–‡æ¡£çš„èƒ½åŠ›ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">16.0</span>, <span class="operator">*</span>)</span><br><span class="line"><span class="meta">@MainActor</span> <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">UIDocumentProperties</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// When initializing with a url, UIKit will automatically lookup metadata based on the data at that url.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">init</span>(<span class="params">url</span>: <span class="type">URL</span>)</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// Initialize with metadata directly when the item is not backed by a url.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">init</span>(<span class="params">metadata</span>: <span class="type">LPLinkMetadata</span>)</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// The metadata to use. UIKit will generate this automatically if a url is given at initialization time.</span></span><br><span class="line">    <span class="keyword">@NSCopying</span> <span class="keyword">open</span> <span class="keyword">var</span> metadata: <span class="type">LPLinkMetadata</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// To support drag &amp; drop, assign a closure to return an array of drag items corresponding to the represented document.</span></span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">var</span> dragItemsProvider: ((<span class="type">UIDragSession</span>) -&gt; [<span class="type">UIDragItem</span>])<span class="operator">?</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// To support sharing, assign a closure to return a UIActivityViewController configured to share the represented document.</span></span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">var</span> activityViewControllerProvider: (() -&gt; <span class="type">UIActivityViewController</span>)<span class="operator">?</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// If enabled, shows an icon representation of the document in the navigation bar.</span></span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">var</span> wantsIconRepresentation: <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœéœ€è¦Document headerç›¸å…³èƒ½åŠ›<strong>ï¼Œ</strong>ä½¿ç”¨<code>UIDocumentProperties</code> å¯¹è±¡ç»™<code>navigationItem.documentProperties</code>å±æ€§èµ‹å€¼å³å¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> documentProperties <span class="operator">=</span> <span class="type">UIDocumentProperties</span>(url: document.fileURL)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> itemProvider <span class="operator">=</span> <span class="type">NSItemProvider</span>(contentsOf: document.fileURL) &#123;</span><br><span class="line">    documentProperties.dragItemsProvider <span class="operator">=</span> &#123; <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">        [<span class="type">UIDragItem</span>(itemProvider: itemProvider)]</span><br><span class="line">    &#125;</span><br><span class="line">    documentProperties.activityViewControllerProvider <span class="operator">=</span> &#123;</span><br><span class="line">        <span class="type">UIActivityViewController</span>(activityItems: [itemProvider], applicationActivities: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">navigationItem.title <span class="operator">=</span> document.localizedName</span><br><span class="line">navigationItem.documentProperties <span class="operator">=</span> documentProperties</span><br></pre></td></tr></table></figure>

<p><strong>Title Menu</strong></p>
<p>é…ç½® title menu éœ€è¦ç»™ <code>navigationItem.titleMenuProvider</code> è¿”å›èœå• closureã€‚ç³»ç»Ÿè¿”å›ç»™closureäº†ä¸€ç»„ suggested actionsï¼ŒåŒ…æ‹¬ç§»åŠ¨å’Œå¤åˆ¶ï¼›åº”ç”¨å®šä¹‰äº†åŠ¨ä½œåŒ…æ‹¬æ–‡æ¡£å¯¼å‡ºä¸º HTML å’Œ PDFã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// When non-nil, UIKit will generate suggestedActions and call this block to generate a menu that is displayed from the title.</span></span><br><span class="line">    <span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">16.0</span>, <span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">var</span> titleMenuProvider: (([<span class="type">UIMenuElement</span>]) -&gt; <span class="type">UIMenu</span>?)<span class="operator">?</span></span><br><span class="line"></span><br><span class="line">navigationItem.titleMenuProvider <span class="operator">=</span> &#123; suggested <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> custom <span class="operator">=</span> [</span><br><span class="line">        <span class="type">UIMenu</span>(title: <span class="string">&quot;Exportâ€¦&quot;</span>, image: <span class="type">UIImage</span>(systemName: <span class="string">&quot;arrow.up.forward.square&quot;</span>), children: [</span><br><span class="line">            <span class="type">UIAction</span>(title: <span class="string">&quot;HTML&quot;</span>, image: <span class="type">UIImage</span>(systemName: <span class="string">&quot;safari&quot;</span>)) &#123; [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">                previewView.exportAsWebArchive(named: document.localizedName, presenter: <span class="keyword">self</span>)</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="type">UIAction</span>(title: <span class="string">&quot;PDF&quot;</span>, image: <span class="type">UIImage</span>(systemName: <span class="string">&quot;doc.richtext&quot;</span>)) &#123; [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">                previewView.exportAsPDF(named: document.localizedName, presenter: <span class="keyword">self</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        ])</span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">return</span> <span class="type">UIMenu</span>(children: suggested <span class="operator">+</span> custom)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>UINavigationItem</code>æä¾›äº†å¯¹æ–‡ä»¶é‡å‘½åçš„æ”¯æŒã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">UINavigationItemRenameDelegate</span> : <span class="title">AnyObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// This method is called when renaming has ended. The title on the navigation item has already been changed when this method is called but</span></span><br><span class="line">    <span class="comment">/// clients can make further adjustments to it when necessary.</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">navigationItem</span>(<span class="keyword">_</span>: <span class="type">UINavigationItem</span>, <span class="params">didEndRenamingWith</span> <span class="params">title</span>: <span class="type">String</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Controls whether the rename action is supported for the given navigation item. For example this method is called when the navigation bar&#x27;s</span></span><br><span class="line">    <span class="comment">/// document menu is shown to validate if the rename action should be part of that menu.</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">navigationItemShouldBeginRenaming</span>(<span class="keyword">_</span>: <span class="type">UINavigationItem</span>)</span> -&gt; <span class="type">Bool</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Called when we begin renaming. Implementing this method allows for customizing the initial text that will show up in the text field as well as the</span></span><br><span class="line">    <span class="comment">/// selected range of that text.</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">navigationItem</span>(<span class="keyword">_</span>: <span class="type">UINavigationItem</span>, <span class="params">willBeginRenamingWith</span> <span class="params">suggestedTitle</span>: <span class="type">String</span>, <span class="params">selectedRange</span>: <span class="type">Range</span>&lt;<span class="type">String</span>.<span class="type">Index</span>&gt;)</span> -&gt; (<span class="type">String</span>, <span class="type">Range</span>&lt;<span class="type">String</span>.<span class="type">Index</span>&gt;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// This method can be used to prevent renaming from happening. However there are cases (e.g. when a new navigation item is pushed on the navigation</span></span><br><span class="line">    <span class="comment">/// bar) where this method will not be called and instead navigationItem:didEndRenamingWithTitle: is called right away. Clients are therefore expected to</span></span><br><span class="line">    <span class="comment">/// handle titles in navigationItem:didEndRenamingWithTitle: for which they would return NO from navigationItem:shouldEndRenamingWithTitle:.</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">navigationItem</span>(<span class="keyword">_</span>: <span class="type">UINavigationItem</span>, <span class="params">shouldEndRenamingWith</span> <span class="params">title</span>: <span class="type">String</span>)</span> -&gt; <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ç”¨è¯¥èƒ½åŠ›éœ€è¦éµå¾ª<code>UINavigationItemRenameDelegate</code>ï¼Œå¹¶ä½¿ç”¨ <code>navigationItem.renameDelegate</code> ç»‘å®šåˆ° selfã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">navigationItem.renameDelegate <span class="operator">=</span> <span class="keyword">self</span></span><br></pre></td></tr></table></figure>

<h2 id="ä½“éªŒæå‡"><a href="#ä½“éªŒæå‡" class="headerlink" title="ä½“éªŒæå‡"></a>ä½“éªŒæå‡</h2><p>å¦‚æœä½ å¯¹è¿™éƒ¨åˆ†å†…å®¹æ„Ÿå…´è¶£å¯ä»¥ç§»æ­¥æ­¤<a target="_blank" rel="noopener" href="https://developer.apple.com/wwdc22/10071">Session</a></p>
<h3 id="Find-and-Replace"><a href="#Find-and-Replace" class="headerlink" title="Find and Replace"></a>Find and Replace</h3><p><code>UITextView</code>ã€<code>WKWebView</code>ã€<code>PDFView</code> éƒ½æ”¯æŒäº†ç³»ç»Ÿå±‚çº§çš„æŸ¥æ‰¾ä¸æ›¿æ¢åŠŸèƒ½ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/editorTextView.png" alt="editorTextView"></p>
<p>å¦‚æœä½ åœ¨å¼€å‘ä¸­çš„è§†å›¾æ˜¯ä¸Šè¿° View çš„å­ç±»ï¼Œå¦‚<code>editorTextView</code> æ˜¯<code>UITextView</code> çš„å­ç±»ï¼Œå¯ç”¨æŸ¥æ‰¾å’Œæ›¿æ¢åªéœ€è¦ä¸€è¡Œä»£ç ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">editorTextView.isFindInteractionEnabled <span class="operator">=</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>


<h3 id="UIEditMenu"><a href="#UIEditMenu" class="headerlink" title="UIEditMenu"></a>UIEditMenu</h3><p>Edit menu äº¤äº’èœå•èƒ½å¤Ÿé’ˆå¯¹å½“å‰å±•ç¤ºçš„å†…å®¹æä¾›è¯¸å¦‚å‰ªåˆ‡ã€ç²˜è´´å’Œç²˜è´´ç­‰ç¼–è¾‘åŠ¨ä½œã€‚ç³»ç»Ÿä¼šé’ˆå¯¹å½“å‰ç”¨æˆ·çš„äº¤äº’æ–¹å¼æä¾›ç¬¦åˆäº¤äº’çš„èœå•å±•ç¤ºå½¢å¼ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/UIEditMenu0.png" alt="UIEditMenu0"></p>
<p><img src="http://image.stephenfang.me/mweb/UIEditMenu1.png" alt="UIEditMenu1"></p>
<ul>
<li>å¯¹äºè§¦æ‘¸äº¤äº’ï¼ŒåŠ¨ä½œä»¥ editing menu çš„å½¢å¼å±•ç¤º</li>
<li>å¯¹äºæŒ‡é’ˆçš„äº¤äº’ï¼ŒåŠ¨ä½œä»¥ context menuçš„å½¢å¼å±•ç¤º</li>
</ul>
<p>æ ‡å‡†çš„ UIKit ç±»ï¼Œå¦‚ <code>UITextView</code> æˆ–è€… <code>UITextField</code>ï¼Œå·²ç»é¢„å…ˆæ”¯æŒäº†Edit Menuäº¤äº’ï¼Œä½ å¯ä»¥ä¾¿æ·åœ°æ¡†é€‰ä¸€ä¸ªåœ°å€ç„¶åè·å¾—ç±»ä¼¼åœ°å›¾å¯¼èˆªçš„äº¤äº’èœå•é€‰é¡¹ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/UIEditMenu2.png" alt="UIEditMenu2.png"></p>
<p>åœ¨é€šç”¨è§†å›¾ä¸­æ·»åŠ  Edit menu äº¤äº’èœå•</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª Edit menu äº¤äº’å¯¹è±¡ï¼Œå¹¶åœ¨é»˜è®¤ initializer ä¼ å…¥ä¸€ä¸ªå¯é€‰çš„ delegateã€‚</li>
<li>åœ¨è§†å›¾ä¸Šè°ƒç”¨ <code>addInteraction(_:)</code> æ¥æ·»åŠ äº¤äº’å¯¹è±¡</li>
<li>åˆ›å»ºä¸€ä¸ª gesture recognizer æ¥è§¦å‘äº¤äº’ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°è§†å›¾ä¸­</li>
</ol>
<p>ä»¥ä¸‹è‹¹æœæä¾›çš„ä¾‹å­ä¸­åˆ›å»ºäº†ä¸€ä¸ªç”±é•¿æŒ‰è§¦å‘çš„ Edit menu äº¤äº’èœå•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add the edit menu interaction.</span></span><br><span class="line">    editMenuInteraction <span class="operator">=</span> <span class="type">UIEditMenuInteraction</span>(delegate: <span class="keyword">self</span>)</span><br><span class="line">    interactionView.addInteraction(editMenuInteraction<span class="operator">!</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create the gesture recognizer.</span></span><br><span class="line">    <span class="keyword">let</span> longPress <span class="operator">=</span> <span class="type">UILongPressGestureRecognizer</span>(target: <span class="keyword">self</span>, action: #selector(didLongPress(<span class="keyword">_</span>:)))</span><br><span class="line">    longPress.allowedTouchTypes <span class="operator">=</span> [<span class="type">UITouch</span>.<span class="type">TouchType</span>.direct.rawValue <span class="keyword">as</span> <span class="type">NSNumber</span>]</span><br><span class="line">    interactionView.addGestureRecognizer(longPress)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">didLongPress</span>(<span class="keyword">_</span> <span class="params">recognizer</span>: <span class="type">UIGestureRecognizer</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> location <span class="operator">=</span> recognizer.location(in: <span class="keyword">self</span>.view)</span><br><span class="line">    <span class="keyword">let</span> configuration <span class="operator">=</span> <span class="type">UIEditMenuConfiguration</span>(identifier: <span class="literal">nil</span>, sourcePoint: location)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> interaction <span class="operator">=</span> editMenuInteraction &#123;</span><br><span class="line">        <span class="comment">// Present the edit menu interaction.</span></span><br><span class="line">        interaction.presentEditMenu(with: configuration)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Edit menu äº¤äº’èœå•åŒ…æ‹¬æ ‡å‡†ç¼–è¾‘æ“ä½œï¼ŒåŒ…æ‹¬å‰ªè´´ã€å¤åˆ¶ã€åˆ é™¤ç­‰ç­‰ï¼Œå¯å‚è€ƒ<code>UIResponderStandardEditActions</code>ã€‚</li>
<li>å¯ä»¥ä½¿ç”¨ <code>UIEditMenuInteractionDelegate</code> æä¾›çš„æ–¹æ³•å‘Edit menu äº¤äº’èœå•æ·»åŠ é¢å¤–é¡¹ç›®ã€‚</li>
<li>å¯¹äºæ–‡æœ¬è§†å›¾å¯ä»¥ä½¿ç”¨<code>UITextViewDelegate</code>ã€<code>UITextFieldDelegate</code>æˆ–<code>UITextInput</code>ä¸­çš„æ–¹æ³•ä¸ºç‰¹å®šæ–‡æœ¬èŒƒå›´æŒ‡å®šèœå•æ˜¾ç¤ºçš„é¡¹ç›®ã€‚</li>
</ul>
<h3 id="Sidebar"><a href="#Sidebar" class="headerlink" title="Sidebar"></a>Sidebar</h3><p>åœ¨ iOS 16 ä¸­ï¼Œä¾§è¾¹æ ä¼šåœ¨ Slide-overï¼ˆä¾§æ‹‰ï¼‰æ¨¡å¼ä¸‹è‡ªåŠ¨æ˜¾ç¤ºã€‚UIKit ä¼šç®¡ç†ä¸€ç»„ç§æœ‰è§†å›¾ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/Sidebar.png" alt="Sidebar"></p>
<h3 id="SFSymbols"><a href="#SFSymbols" class="headerlink" title="SFSymbols"></a>SFSymbols</h3><p>SFSymbols åœ¨ iOS 16 ä¸Šæ”¯æŒå››ç§ <code>renderingMode</code>ï¼Œåˆ†åˆ«æ˜¯ </p>
<ul>
<li>monochrome</li>
<li>multicolor</li>
<li>hierarchical</li>
<li>palette</li>
</ul>
<p><img src="http://image.stephenfang.me/mweb/renderingMode.png" alt="renderingMode"></p>
<p>åœ¨ iOS 15 åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤ä½¿ç”¨ monochrome æ¸²æŸ“ symbolã€‚</p>
<p>åœ¨ iOS 16 å¦‚æœæ²¡æœ‰æŒ‡å®šrenderingModeï¼Œé»˜è®¤ä½¿ç”¨ hierarchical æ¸²æŸ“ symbolï¼Œå¯ä»¥é€šè¿‡ <code>UIImage.SymbolConfiguration.preferringMonochrome()</code> æŒ‡å®šæ¸²æŸ“æ–¹å¼ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/preferringMonochrome.png" alt="preferringMonochrome"></p>
<p>åŒæ—¶å¢åŠ äº†å¯¹å¯å˜ symbol çš„æ”¯æŒï¼Œå³æ”¯æŒæ ¹æ®ä» 0 åˆ° 1 çš„å€¼å˜åŒ–æ˜ å°„ symbol çš„å˜åŒ–ï¼Œå½“ç„¶ï¼Œè¿™éœ€è¦ symbol è‡ªèº«æ”¯æŒè¯¥èƒ½åŠ›ã€‚</p>
<p>å‡è®¾ App ä½¿ç”¨äº†<code>speaker.3.wave.fill</code> ç¬¦å·è¡¨ç¤ºå½“å‰éŸ³é‡çº§åˆ«ï¼Œåœ¨å€¼ä¸º 0 æ—¶æ‰¬å£°å™¨æ³¢çº¹æ¶ˆå¤±è¡¨ç¤ºæœ€ä½éŸ³é‡æ°´å¹³ï¼Œå½“è¯¥å€¼å¢åŠ åˆ° 1 æ—¶æ‰¬å£°å™¨çš„æ³¢å½¢é€æ¸å¡«å……å®Œæ•´ï¼Œè¡¨ç¤ºéŸ³é‡æ°´å¹³æé«˜ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/variableValue.png" alt="variableValue"></p>
<p>ä½¿ç”¨æ–¹æ³•ä¹Ÿéå¸¸ç®€å•ç›´ç™½ï¼Œé€šè¿‡æ ‡å‡†çš„ SF Symbols API ä¸º UIImage è®¾ç½® <code>variableValue</code> å‚æ•°å³å¯ï¼Œç”šè‡³å°†è¯¥å±æ€§ä¸ <code>renderingMode</code> ç»„åˆä½¿ç”¨ä»¥è¿›ä¸€æ­¥è®¾è®¡ç¬¦å·çš„æ ·å¼ã€‚</p>
<p>ä»¥ä¸‹ä¸º GitHubä¸Š <a target="_blank" rel="noopener" href="https://github.com/ferhanakkan">@ferhanakkan</a> çš„ Demoã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">sliderDidValueChange</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="type">UISlider</span>)</span> &#123;</span><br><span class="line">        imageView.image <span class="operator">=</span> <span class="type">UIImage</span>(</span><br><span class="line">            systemName: <span class="string">&quot;wifi&quot;</span>,</span><br><span class="line">            variableValue: <span class="type">Double</span>(sender.value),</span><br><span class="line">            configuration: <span class="type">UIImage</span>.<span class="type">SymbolConfiguration</span>(paletteColors: [.orange])</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://image.stephenfang.me/mweb/sfsymbols.gif" alt="sfsymbols.gif"></p>
<p>å­¦ä¹ å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å˜é‡ç¬¦å·å¯ä»¥è§‚çœ‹ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/10158/">Adopt variable color in SF Symbols</a> å’Œ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/10157/">Whatâ€™s new in SF Symbols 4</a> è¿™ä¸¤ä¸ªSessionã€‚</p>
<h3 id="Swift-Concurrency-and-Sendable"><a href="#Swift-Concurrency-and-Sendable" class="headerlink" title="Swift Concurrency and Sendable"></a>Swift Concurrency and Sendable</h3><p>UIKit ç°åœ¨å¯ä»¥ä¸ Swift Concurrency åŒæ—¶ä½¿ç”¨ï¼ŒåŒ…æ‹¬ immutable ç±»å‹ï¼Œå¦‚ä»¥ä¸‹çš„ç±»å‹éµå¾ªäº† Sendable</p>
<ul>
<li><code>UIImage</code></li>
<li><code>UIColor</code></li>
<li><code>UIFont</code></li>
<li><code>UITraitCollection</code></li>
</ul>
<p>å¯¹è±¡å¯ä»¥åœ¨ MainActor å’Œè‡ªå®šä¹‰ actor ä¹‹é—´å‘é€è€Œä¸ä¼šæ”¶åˆ°ç¼–è¯‘å™¨è­¦å‘Šã€‚</p>
<p>è‹¹æœæä¾›çš„ä¾‹å­ä¸­ï¼Œæœ‰ä¸€ä¸ªå«åš Processor çš„è‡ªå®šä¹‰ actorï¼Œä»¥åŠä¸€ä¸ªè¢«ç»‘å®šåˆ° MainActor çš„å«åš ImageViewer çš„ ViewControllerã€‚åœ¨ <code>sendImageForProcessing</code> æ–¹æ³•ä¸­ ImageViewer å°†å›¾åƒå‘é€ç»™ Processorè¿›è¡Œå¤„ç†ï¼Œç›®å‰æ˜¯å®‰å…¨çš„ã€‚</p>
<p>å› ä¸º UIImage æ˜¯ immutable ç±»å‹ï¼Œ Processor å¿…é¡»åˆ›å»ºæ–°çš„æ‹·è´æ¥æ‰§è¡Œæ“ä½œã€‚ä»»ä½•å¼•ç”¨åŸå§‹å›¾åƒçš„ä»£ç éƒ½ä¸ä¼šæ˜¾ç¤ºè¿™äº›ä¿®æ”¹ï¼Œå…±äº«çŠ¶æ€ä¹Ÿä¸ä¼šå‘ç”Ÿä¸å®‰å…¨çš„å˜åŒ–ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/Concurrency0.png" alt="Concurrency0"></p>
<p>å¯¹æ¯”ä¸€ä¸‹å› ä¸º mutable è€Œæ²¡æœ‰éµå¾ª Sendable çš„ UIBezierPathï¼Œä»¥å‰åªèƒ½åœ¨æ–‡æ¡£ä¸­è¡¨ç¤ºï¼Œç°åœ¨å¯ä»¥ç”±ç¼–è¯‘å™¨è¿›è¡Œæ£€æŸ¥ã€‚</p>
<p><img src="http://image.stephenfang.me/mweb/Concurrency1.png" alt="Concurrency1"></p>
<p>è¦äº†è§£æ›´å¤šå…³äº Sendable å’Œ Swift Concurrency ç§»æ­¥è§†é¢‘ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/110351/">Eliminate data races using Swift Concurrency</a> å’Œ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/110350/">Visualize and optimize Swift Concurrency</a>ã€‚</p>
<h2 id="UIKit-and-SwiftUI"><a href="#UIKit-and-SwiftUI" class="headerlink" title="UIKit and SwiftUI"></a>UIKit and SwiftUI</h2><p>è¿‡å»å¦‚æœæƒ³è¦å®ç°å°† SwiftUI è§†å›¾åµŒå…¥ UIView è§†å›¾ï¼Œä¸€èˆ¬éœ€è¦è¿™ä¹ˆåšã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> controller <span class="operator">=</span> <span class="type">UIHostingController</span>(rootView: <span class="type">SwiftUIView</span>())</span><br><span class="line">addChild(controller)</span><br><span class="line">view.addSubview(controller.view)</span><br><span class="line">controller.didMove(toParent: <span class="keyword">self</span>)</span><br></pre></td></tr></table></figure>

<p>åœ¨ iOS 16ä¸Šæ¨å‡ºäº† <code>UIHostingConfiguration</code> ï¼Œä½ å¯ä»¥åœ¨ <code>UICollectionView</code> å’Œ <code>UITableView</code> ä¸­ä»¥ <code>contentConfiguration</code> çš„æ–¹å¼å°† SwiftUI æ„å»ºçš„ View åµŒå…¥ cellã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cell.contentConfiguration <span class="operator">=</span> <span class="type">UIHostingConfiguration</span> &#123;</span><br><span class="line">    <span class="type">SwiftUIView</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h2><p>æœ€è¿‘å‡ å¹´çš„ WWDC ä¸­çœ‹åˆ°è‹¹æœå¯¹äº UIKit çš„ç†è§£ï¼Œå€¡å¯¼ä½¿ç”¨ configuration çš„æ–¹å¼æ„å»ºç»„ä»¶ã€èœå•ï¼Œä¸€æ–¹é¢å‚ç…§äººæœºäº¤äº’æŒ‡å—æ„å»ºç»„ä»¶èƒ½å¤Ÿç¡®ä¿äº¤äº’ä¸è¢«æ»¥ç”¨ï¼Œå¦ä¸€æ–¹é¢é™ä½äº†å¼€å‘è€…çš„æ¥å…¥æˆæœ¬ã€‚</p>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œä¸€èµ·å°è¯•å…¼å®¹ app åˆ° iOS 16ï¼Œé€‚é…æ–°çš„APIï¼Œæ¢ç´¢æ–°çš„ä¸šåŠ¡å¯èƒ½æ€§å§ã€‚</p>
<h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.swiftjectivec.com/ios-16-notable-uikit-additions/">https://www.swiftjectivec.com/ios-16-notable-uikit-additions/</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.appcircle.io/whats-new-in-uikit-at-ios-16-wwdc22">https://blog.appcircle.io/whats-new-in-uikit-at-ios-16-wwdc22</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/wwdc22/10068">https://developer.apple.com/wwdc22/10068</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/7111173753668632584">https://juejin.cn/post/7111173753668632584</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/WenchaoD/FSCalendar">https://github.com/WenchaoD/FSCalendar</a></li>
</ul>

    </div>

    
    
    
      
  <div class="popular-posts-header">ç›¸å…³æ–‡ç« </div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2020/07/01/Haze-Free/" rel="bookmark">iOS å›¾åƒå¤„ç† App - OpenCV ä¸ Swift å¼€å‘</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2020/07/08/Muzik_GettingStarted/" rel="bookmark">Muzikå¼€å‘æ€»ç»“ â€” AVAudioPlayer å®è·µ</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2020/07/15/Muzik_Progress/" rel="bookmark">Muzikå¼€å‘æ€»ç»“ â€” è®¾è®¡ä¸å®ç°</a></div>
    </li>
  </ul>


    <footer class="post-footer">
          <div class="reward-container">
  <div>è¯·ä½œè€…å–ä¸€æ¯å’–å•¡</div>
  <button>
    èµèµ
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="Stephen Fang å¾®ä¿¡">
        <span>å¾®ä¿¡</span>
      </div>
      <div>
        <img src="/images/alipay.png" alt="Stephen Fang æ”¯ä»˜å®">
        <span>æ”¯ä»˜å®</span>
      </div>

  </div>
</div>

          <div class="followme">
  <span>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¶å®ƒå‘å¸ƒæ¸ é“</span>

  <div class="social-list">

      <div class="social-item">
        <a target="_blank" class="social-link" href="https://twitter.com/Fangxuanmiao">
          <span class="icon">
            <i class="twitter"></i>
          </span>

          <span class="label">Twitter</span>
        </a>
      </div>

      <div class="social-item">
        <a target="_blank" class="social-link" href="https://t.me/stephenfang">
          <span class="icon">
            <i class="telegram"></i>
          </span>

          <span class="label">Telegram</span>
        </a>
      </div>

      <div class="social-item">
        <a target="_blank" class="social-link" href="/images/wechat_account.jpg">
          <span class="icon">
            <i class="wechat"></i>
          </span>

          <span class="label">Wechat</span>
        </a>
      </div>

      <div class="social-item">
        <a target="_blank" class="social-link" href="/atom.xml">
          <span class="icon">
            <i class="rss"></i>
          </span>

          <span class="label">RSS</span>
        </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/iOS/" rel="tag"># iOS</a>
              <a href="/tags/Swift/" rel="tag"># Swift</a>
              <a href="/tags/WWDC/" rel="tag"># WWDC</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/07/15/202206ReadingList/" rel="prev" title="2022å¹´å…­æœˆè¯»ä¹¦æ‘˜å½•">
                  <i class="fa fa-chevron-left"></i> 2022å¹´å…­æœˆè¯»ä¹¦æ‘˜å½•
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="SOHUCS"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2020 â€“ 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Stephen Fang</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">180k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">2:43</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"QnhiKXiUBCNtXH1MOoOB9EuB-MdYXbMMI","app_key":"1oyNoEMdzuJrPz8c97G4vQQ0","server_url":"stephenfang.me","security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


<script class="next-config" data-name="changyan" type="application/json">{"enable":true,"appid":"cyvA2uszA","appkey":"19e7b9db2888f0b395999a5c42574f4e"}</script>
<script src="/js/third-party/comments/changyan.js"></script>

</body>
</html>
